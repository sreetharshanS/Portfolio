"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["ui_packages_code-view-shared_hooks_use-canonical-object_ts-ui_packages_code-view-shared_utili-04c5c0"],{4284:(e,t,r)=>{r.d(t,{Z:()=>o});function o({appendQuery:e,retainScrollPosition:t,returnTarget:r}){window.dispatchEvent(new CustomEvent("blackbird_monolith_append_and_focus_input",{detail:{appendQuery:e,retainScrollPosition:t,returnTarget:r}}))}},71061:(e,t,r)=>{r.d(t,{V3:()=>c,_y:()=>s,wk:()=>l});var o=r(94232),i=r(41720);let n={cursorNavigationHopWordLeft:{hotkey:"Alt+ArrowLeft,Ctrl+ArrowLeft",useWhileBlobFocused:!0,noModifierHotkey:["ArrowLeft"],modifierRequired:!0},cursorNavigationHopWordRight:{hotkey:"Alt+ArrowRight,Ctrl+ArrowRight",useWhileBlobFocused:!0,noModifierHotkey:["ArrowRight"],modifierRequired:!0},cursorNavigationTopOfPage:{hotkey:"Meta+ArrowUp",useWhileBlobFocused:!0,noModifierHotkey:["ArrowUp"],modifierRequired:!0},cursorNavigationBottomOfPage:{hotkey:"Meta+ArrowDown",useWhileBlobFocused:!0,noModifierHotkey:["ArrowDown"],modifierRequired:!0},cursorNavigationEnd:{hotkey:"End,Meta+ArrowRight",useWhileBlobFocused:!0,noModifierHotkey:["End"]},cursorNavigationHome:{hotkey:"Home,Meta+ArrowLeft",useWhileBlobFocused:!0,noModifierHotkey:["Home"]},cursorNavigationPageUp:{hotkey:"PageUp",useWhileBlobFocused:!0,noModifierHotkey:["PageUp"]},cursorNavigationPageDown:{hotkey:"PageDown",useWhileBlobFocused:!0,noModifierHotkey:["PageDown"]},cursorNavigationArrowDown:{hotkey:"ArrowDown",useWhileBlobFocused:!0,noModifierHotkey:["ArrowDown"]},cursorNavigationArrowUp:{hotkey:"ArrowUp",useWhileBlobFocused:!0,noModifierHotkey:["ArrowUp"]},cursorNavigationArrowLeft:{hotkey:"ArrowLeft",useWhileBlobFocused:!0,noModifierHotkey:["ArrowLeft"]},cursorNavigationArrowRight:{hotkey:"ArrowRight",useWhileBlobFocused:!0,noModifierHotkey:["ArrowRight"]},cursorNavigationShiftHopWordLeft:{hotkey:"Alt+Shift+ArrowLeft,Ctrl+Shift+ArrowLeft",useWhileBlobFocused:!0,noModifierHotkey:["ArrowLeft"],modifierRequired:!0},cursorNavigationShiftHopWordRight:{hotkey:"Alt+Shift+ArrowRight,Ctrl+Shift+ArrowRight",useWhileBlobFocused:!0,noModifierHotkey:["ArrowRight"],modifierRequired:!0},cursorNavigationShiftTopOfPage:{hotkey:"Meta+Shift+ArrowUp",useWhileBlobFocused:!0,noModifierHotkey:["ArrowUp"],modifierRequired:!0},cursorNavigationShiftBottomOfPage:{hotkey:"Meta+Shift+ArrowDown",useWhileBlobFocused:!0,noModifierHotkey:["ArrowDown"],modifierRequired:!0},cursorNavigationShiftEnd:{hotkey:"Shift+End,Meta+Shift+ArrowRight",useWhileBlobFocused:!0,noModifierHotkey:["End"],modifierRequired:!0},cursorNavigationShiftHome:{hotkey:"Shift+Home,Meta+Shift+ArrowLeft",useWhileBlobFocused:!0,noModifierHotkey:["Home"],modifierRequired:!0},cursorNavigationShiftPageUp:{hotkey:"Shift+PageUp",useWhileBlobFocused:!0,noModifierHotkey:["PageUp"],modifierRequired:!0},cursorNavigationShiftPageDown:{hotkey:"Shift+PageDown",useWhileBlobFocused:!0,noModifierHotkey:["PageDown"],modifierRequired:!0},cursorNavigationShiftArrowDown:{hotkey:"Shift+ArrowDown",useWhileBlobFocused:!0,noModifierHotkey:["ArrowDown"],modifierRequired:!0},cursorNavigationShiftArrowUp:{hotkey:"Shift+ArrowUp",useWhileBlobFocused:!0,noModifierHotkey:["ArrowUp"],modifierRequired:!0},cursorNavigationShiftArrowLeft:{hotkey:"Shift+ArrowLeft",useWhileBlobFocused:!0,noModifierHotkey:["ArrowLeft"],modifierRequired:!0},cursorNavigationShiftArrowRight:{hotkey:"Shift+ArrowRight",useWhileBlobFocused:!0,noModifierHotkey:["ArrowRight"],modifierRequired:!0},cursorNavigationHighlightLine:{text:"J",hotkey:"Shift+J",useWhileBlobFocused:!0,noModifierHotkey:["J"],modifierRequired:!0},cursorNavigationGoLineUp:{hotkey:"Ctrl+p",useWhileBlobFocused:!0,noModifierHotkey:["p"],modifierRequired:!0},cursorNavigationOpenHelpDialog:{hotkey:"Alt+F1,Control+Alt+\u02D9,Control+Alt+h",useWhileBlobFocused:!0,noModifierHotkey:["F1","h","\u02D9"],modifierRequired:!0},cursorNavigationGoLineDown:{hotkey:"Ctrl+n",useWhileBlobFocused:!0,noModifierHotkey:["n"],modifierRequired:!0},cursorNavigationEnter:{text:"\u2318 Enter",hotkey:"Meta+Enter",useWhileBlobFocused:!0,noModifierHotkey:["Enter"],modifierRequired:!0},cursorNavigationSpace:{hotkey:" ",useWhileBlobFocused:!0,noModifierHotkey:[" "],modifierRequired:!1},cursorNavigationShiftSpace:{hotkey:"Shift+ ",useWhileBlobFocused:!0,noModifierHotkey:[" "],modifierRequired:!0},expandAndFocusLineContextMenu:{text:"Shift Alt C",hotkey:"Alt+Shift+C,Alt+Shift+\xc7",useWhileBlobFocused:!0,noModifierHotkey:["C"],modifierRequired:!0},copyFilePathShortcut:{text:"\u2318 shift .",hotkey:"Meta+Shift+>",useWhileBlobFocused:!0,noModifierHotkey:["."],modifierRequired:!0},copyPermalinkShortcut:{text:"\u2318 shift ,",hotkey:"Meta+Shift+<",useWhileBlobFocused:!0,noModifierHotkey:[","],modifierRequired:!0},copyRawContentShortcut:{text:"\u2318 shift c",hotkey:"Meta+Shift+C",useWhileBlobFocused:!0,noModifierHotkey:["c"],modifierRequired:!0},downloadRawContentShortcut:{text:"\u2318 shift s",hotkey:"Meta+Shift+S",useWhileBlobFocused:!0,noModifierHotkey:["s"],modifierRequired:!0},editFileShortcut:{hotkey:"e,Shift+E",useWhileBlobFocused:!0,noModifierHotkey:["e","E"]},goToLineShortcut:{text:"l",hotkey:"l,Shift+L",ariaKeyShortcuts:"l",useWhileBlobFocused:!0,noModifierHotkey:["l","L"]},alternativeGoToLineShortcut:{hotkey:"Mod+Alt+g",ariaKeyShortcuts:"Mod+Alt+g",useWhileBlobFocused:!0,noModifierHotkey:["g","G"]},findInFileShortcut:{hotkey:"Meta+f, F3",text:"\u2318 f",ariaKeyShortcuts:"Meta+F",useWhileBlobFocused:!0,noModifierHotkey:["f","F3"],modifierRequired:!0},findFilesShortcut:{hotkey:"t,Shift+T",useWhileBlobFocused:!0,noModifierHotkey:["t","T"]},findSelectionShortcut:{hotkey:"Meta+e",useWhileBlobFocused:!0,noModifierHotkey:["e"],modifierRequired:!0},findNextShortcut:{hotkey:"Mod+g"},findPrevShortcut:{hotkey:"Mod+Shift+G"},openWithGitHubDevShortcut:{hotkey:"., Meta+Shift+/",useWhileBlobFocused:!0,noModifierHotkey:["."]},openWithGitHubDevInNewWindowShortcut:{hotkey:"Shift+.,Shift+>,>",useWhileBlobFocused:!0,noModifierHotkey:[">"]},permalinkShortcut:{hotkey:"y,Shift+Y",useWhileBlobFocused:!0,noModifierHotkey:["y","Y"]},searchShortcut:{hotkey:"/",useWhileBlobFocused:!0,noModifierHotkey:["/"]},selectAllShortcut:{hotkey:"Meta+a",useWhileBlobFocused:!0,noModifierHotkey:["a"],modifierRequired:!0},selectEditTabShortcut:{hotkey:"Mod+Shift+P"},submitCommitDialogShortcut:{hotkey:"Mod+Enter"},refSelectorShortcut:{hotkey:"w",text:"w",useWhileBlobFocused:!0,noModifierHotkey:["w"]},escapeRightClickMenu:{hotkey:"Escape",useWhileBlobFocused:!0,noModifierHotkey:["Escape"]},toggleFocusedPaneShortcut:{hotkey:"Meta+F6,Meta+Shift+F6",useWhileBlobFocused:!0,noModifierHotkey:["F6"],modifierRequired:!0},toggleSymbolsShortcut:{hotkey:"Meta+i",useWhileBlobFocused:!0,noModifierHotkey:["i"],modifierRequired:!0},toggleTreeShortcut:{hotkey:"Meta+b",useWhileBlobFocused:!0,noModifierHotkey:["b"],modifierRequired:!0},viewBlameShortcut:{hotkey:"b,Shift+B,Meta+/ Meta+b",useWhileBlobFocused:!0,noModifierHotkey:["b"]},viewCodeShortcut:{hotkey:"Meta+/ Meta+c",useWhileBlobFocused:!0,modifierRequired:!0},viewPreviewShortcut:{hotkey:"Meta+/ Meta+p"},viewRawContentShortcut:{text:"\u2318 / \u2318 r",hotkey:"Meta+/ Meta+r",useWhileBlobFocused:!0,noModifierHotkey:["r"],modifierRequired:!0},findSymbolShortcut:{hotkey:"r,Shift+R",useWhileBlobFocused:!0,noModifierHotkey:["r","R"],modifierRequired:!1}},a=new Map;function l(){let e=(0,i.X)(["mac"]),[t]=(0,o.I)(()=>!1,!0,[]),r=0;if(e?r=1:t||(r=2),!a.has(r)){var l,s;let o=n;e||t||(o=Object.keys(l=o).reduce((e,t)=>{let r=l[t];return e[t]={hotkey:r.hotkey?.replace(/Meta/g,"Control"),text:r.text?.replace(/⌘/g,"Ctrl").replace(/⇧/g,"Shift"),ariaKeyShortcuts:r.ariaKeyShortcuts?.replace(/Meta/g,"Control"),useWhileBlobFocused:r.useWhileBlobFocused,modifierRequired:r.modifierRequired,noModifierHotkey:r.noModifierHotkey},e},{})),t&&(o=Object.keys(s=o).reduce((e,t)=>{let r=s[t];return e[t]={hotkey:void 0,text:r.text?.replace(/⌘/g,"Ctrl").replace(/⇧/g,"Shift"),ariaKeyShortcuts:r.ariaKeyShortcuts?.replace(/Meta/g,"Control"),useWhileBlobFocused:r.useWhileBlobFocused,modifierRequired:r.modifierRequired,noModifierHotkey:r.noModifierHotkey},e},{})),a.set(r,o)}return a.get(r)}function s(){let e=l();return Object.keys(e).reduce((t,r)=>{let o=e[r];if(o.useWhileBlobFocused&&o.noModifierHotkey&&o.modifierRequired)for(let e of o.noModifierHotkey)t.includes(e)||t.push(e);return t},[])}function c(){let e=l();return Object.keys(e).reduce((t,r)=>{let o=e[r];if(o.useWhileBlobFocused&&o.noModifierHotkey&&!o.modifierRequired)for(let e of o.noModifierHotkey)t.includes(e)||t.push(e);return t},[])}},43100:(e,t,r)=>{r.d(t,{p:()=>i});var o=r(96540);function i(e){let t=(0,o.useRef)([]);for(let r of t.current)if(e===r||function e(t,r){if(t===r)return!0;if("object"!=typeof t||typeof t!=typeof r||!t||!r)return!1;if(Array.isArray(t)){if(!Array.isArray(r)||t.length!==r.length)return!1;for(let o=0;o<t.length;o++)if(!e(t[o],r[o]))return!1;return!0}let o=Object.keys(t),i=Object.keys(r);if(o.length!==i.length)return!1;for(let i of o)if(!e(t[i],r[i]))return!1;return!0}(r,e))return r;return t.current.unshift(e),t.current.length>5&&t.current.pop(),e}},78904:(e,t,r)=>{r.d(t,{T:()=>d});var o=r(17908),i=r(5796),n=r(46584),a=r(70404),l=r(57572),s=r(96540),c=r(46636);function d(){let{sendAnalyticsEvent:e}=(0,a.s)(),t=function(){let e=function(){let e=(0,o.t)(),t=(0,c.i)();return(0,s.useMemo)(()=>({react_app:"code-view",repository_id:e.id,repository_nwo:`${e.ownerLogin}/${e.name}`,repository_public:e.public,repository_is_fork:e.isFork,actor_id:t?.id,actor_login:t?.login}),[e,t])}(),t=(0,o.t)(),r=(0,i.yH8)(i.tTz,{owner:t.ownerLogin,repo:t.name});return(0,s.useCallback)((t,o,i)=>{let n={target:t,interaction:o,context:i,...e,url:window.location.href,user_agent:window.navigator.userAgent,browser_width:window.innerWidth,browser_languages:window.navigator.languages.join(",")};(0,l.lS)(r,{method:"POST",body:n})},[e,r])}(),r=(0,n.u)("code_nav_ui_events");return{sendRepoClickEvent:(0,s.useCallback)((o,i={})=>{e("repository.click",o,i),r&&t(o,"click",i)},[e,t,r]),sendRepoKeyDownEvent:(0,s.useCallback)((o,i={})=>{e("repository.keydown",o,i),r&&t(o,"keydown",i)},[e,t,r]),sendStats:(0,s.useCallback)((o,i={})=>{e(o,"",i),r&&t(o,"stats",i)},[e,t,r]),sendMarketplaceActionEvent:(0,s.useCallback)((t,r={})=>{e("marketplace.action.click",t,r)},[e])}}},83023:(e,t,r)=>{r.d(t,{o:()=>u});var o=r(5225),i=r(17908),n=r(5796),a=r(57572),l=r(96540);async function s(e){let t=await (0,a.lS)(e);return t.ok?await t.json():void 0}let c=new Map,d=(0,o.A)(s,{cache:c});function u(e,t,r){let o=(0,i.t)(),[a,s]=(0,l.useState)({list:[],directories:[],loading:!0}),c=(0,n.ClY)({repo:o,commitOid:e,includeDirectories:!r});return(0,l.useEffect)(()=>{let e=!1,r=async()=>{s({list:[],directories:[],loading:!0});let t=await d(c);if(e)return;let r=t?.paths||[],o=t?.directories||[];s({list:r.concat(o).sort(),directories:o,error:!t})};return t&&r(),function(){e=!0}},[c,t,r]),a}},38556:(e,t,r)=>{r.d(t,{Z:()=>s});var o=r(14194),i=r(17908),n=r(5796),a=r(94232),l=r(96540);function s(){let e=(0,i.t)(),{path:t,action:r,refInfo:s}=(0,o.eu)(),[c]=(0,a.I)(()=>!1,!0,[]);function d(e){return e?`?${e}`:""}function u(e){return c?"":void 0===e?window.location.hash:e?`#${e}`:""}return{getItemUrl:l.useCallback(t=>(0,n.IO9)({repo:e,commitish:s.name,action:"directory"===t.contentType?"tree":"blob",path:t.path}),[e.ownerLogin,e.name,s.name]),getUrl(o={}){let i=(0,n.IO9)({repo:e,commitish:o.commitish||s.name,action:o.action||r,path:o.path||t})+function({params:e,hash:t}){return d(e)+u(t)}(o);return o.absolute?new URL(i,window.location.origin).href:i},createPermalink(o={}){let i=(0,n.IO9)({repo:e,commitish:s.currentOid,action:o.action||r,path:o.path||t})+function({params:e,hash:t}){return d(e)+u(t)}(o);return o.absolute?new URL(i,window.location.origin).href:i},isCurrentPagePermalink:()=>!c&&s.name===s.currentOid&&window.location.pathname.includes(s.currentOid)}}},63426:(e,t,r)=>{r.d(t,{E:()=>o});let o={"&:hover:not([disabled])":{textDecoration:"none"},"&:focus:not([disabled])":{textDecoration:"none"},"&:active:not([disabled])":{textDecoration:"none"}}},73412:(e,t,r)=>{r.d(t,{z:()=>WebWorker});var o=r(75632);function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}let WebWorker=class WebWorker{set onmessage(e){this.worker.onmessage=e}postMessage(e){this.worker.postMessage(e)}terminate(){this.worker.terminate()}constructor(e,t){i(this,"worker",void 0);try{let t=(0,o.G7)("module_workers");this.worker=new Worker(t?`${e}?module=true`:e,t?{type:"module"}:void 0)}catch{console.warn("Web workers are not available. Please enable web workers to benefit from the improved performance."),this.worker=new MainThreadWorker(t)}}};let MainThreadWorker=class MainThreadWorker{async postMessage(e){if(this.terminated)return;let t={data:this.job({data:e})};this.onmessage?.(t)}terminate(){this.terminated=!0}constructor(e){i(this,"terminated",!1),i(this,"onmessage",void 0),this.job=e}}},7911:(e,t,r)=>{r.d(t,{j:()=>a});var o=r(5225),i=r(91385);let n=(0,o.A)(i.fN);function a({data:e}){let{query:t,baseList:r,startTime:o}=e,a=t.replaceAll("\\","");return{query:t,list:r.filter(e=>""===a||(0,i.qA)(a,e)&&n(a,e)>0).sort((e,t)=>n(a,t)-n(a,e)),baseCount:r.length,startTime:o}}},9531:(e,t,r)=>{function o(e){return"blob"in e}function i(e){return o(e)&&"blame"in e}function n(e){return"deleteInfo"in e&&"webCommitInfo"in e}function a(e){return"editInfo"in e&&"webCommitInfo"in e}r.d(t,{fP:()=>l,KR:()=>i,mM:()=>o,iS:()=>n,di:()=>a,Hf:()=>s});let l={README:"readme",CODE_OF_CONDUCT:"code_of_conduct",LICENSE:"license",SECURITY:"security"};function s(e){return"tree"in e}},15180:(e,t,r)=>{function o(e){return i(e)[0]}function i(e){let t=[];for(let r of function(){try{return document.cookie.split(";")}catch{return[]}}()){let[o,i]=r.trim().split("=");e===o&&void 0!==i&&t.push({key:o,value:i})}return t}function n(e,t,r=null,o=!1,i="lax"){let a=document.domain;if(null==a)throw Error("Unable to get document domain");a.endsWith(".github.com")&&(a="github.com");let l="https:"===location.protocol?"; secure":"",s=r?`; expires=${r}`:"";!1===o&&(a=`.${a}`);try{document.cookie=`${e}=${t}; path=/; domain=${a}${s}${l}; samesite=${i}`}catch{}}function a(e,t=!1){let r=document.domain;if(null==r)throw Error("Unable to get document domain");r.endsWith(".github.com")&&(r="github.com");let o=new Date(Date.now()-1).toUTCString(),i="https:"===location.protocol?"; secure":"",n=`; expires=${o}`;!1===t&&(r=`.${r}`);try{document.cookie=`${e}=''; path=/; domain=${r}${n}${i}`}catch{}}r.d(t,{OR:()=>i,Ri:()=>o,TV:()=>n,Yj:()=>a})},2640:(e,t,r)=>{r.d(t,{D:()=>n,Y:()=>a});var o=r(13080),i=r(47584);function n(e){if(!i.XC)return;let t=i.XC.querySelector("title"),r=i.XC.createElement("title");r.textContent=e,t?t.textContent!==e&&(t.replaceWith(r),(0,o.i)(e)):(i.XC.head.appendChild(r),(0,o.i)(e))}function a(e){return document.body.classList.contains("logged-out")?`${e} \xb7 GitHub`:e}},1090:(e,t,r)=>{r.d(t,{A:()=>o});let o=(e,t)=>{let r=new URL(e,window.location.origin),o=new URL(t,window.location.origin);return o.href.includes("#")&&r.host===o.host&&r.pathname===o.pathname&&r.search===o.search}},65326:(e,t,r)=>{r.d(t,{Nq:()=>$,H:()=>p,c2:()=>el,Uy:()=>U,qn:()=>ey});var o=r(74848),i=r(37138),n=r(71061),a=r(78026),l=r(94232),s=r(38621),c=r(55847),d=r(20053),u=r(96540);let h={expandButton:"ExpandFileTreeButton-module__expandButton--gL4is",filesButtonBreakpoint:"ExpandFileTreeButton-module__filesButtonBreakpoint--WfX9t"},f=u.forwardRef(({expanded:e,onToggleExpanded:t,className:r,ariaControls:u,textAreaId:f,useFilesButtonBreakpoint:m=!0,variant:p,getTooltipDirection:y},g)=>{let{toggleTreeShortcut:x}=(0,n.wk)(),[w]=(0,l.I)(()=>!1,!0,[]),k=y?.(e)??"se";return(0,o.jsxs)(o.Fragment,{children:[m&&(!e||w)&&(0,o.jsx)(c.Q,{"aria-label":"Expand file tree",leadingVisual:s.ArrowLeftIcon,"data-hotkey":x.hotkey,"data-testid":"expand-file-tree-button-mobile",ref:g,onClick:t,variant:p??"invisible",sx:{color:"fg.muted",px:2,display:"none","@media screen and (max-width: 768px)":{display:"block"}},children:"Files"}),(0,o.jsx)(a.L,{dataHotkey:x.hotkey,className:(0,d.$)({[r??""]:!0,"position-relative":!0,[h.expandButton]:!0,[h.filesButtonBreakpoint]:m&&(!e||w)}),expanded:e,alignment:"left",ariaLabel:e?"Collapse file tree":"Expand file tree",tooltipDirection:k,testid:"file-tree-button",ariaControls:u,ref:g,variant:p,onToggleExpanded:t}),(0,o.jsx)(i._,{buttonFocusId:f,buttonHotkey:x.hotkey,onButtonClick:t,onlyAddHotkeyScopeButton:!0})]})});f.displayName="ExpandFileTreeButton";var m=r(78904);function p({inputRef:e,onFindFilesShortcut:t,textAreaId:r}){let{sendRepoKeyDownEvent:a}=(0,m.T)(),{findFilesShortcut:l}=(0,n.wk)();return(0,o.jsx)(i._,{buttonFocusId:r,buttonHotkey:l.hotkey,onButtonClick:()=>{t?.(),e?.current?.focus(),a("GO_TO_FILE")}})}try{p.displayName||(p.displayName="FindFilesShortcut")}catch{}var y=r(11024),g=r(46112),x=r(23832),w=r(16980),k=r(38556),b=r(46988),v=r(5796),R=r(17774),C=r(41980),S=r(76736),F=r(57572),N=r(69676),A=r(75177),j=r(14616),M=r(87330),E=r(93653),I=r(72751),T=r(30729),W=r(27104);let H=(0,u.createContext)({knownFolders:new Map,dispatchKnownFolders:()=>{}});try{H.displayName||(H.displayName="FileTreeContext")}catch{}var B=r(14194),_=r(7284),q=r(28448),P=r(46928),O=r(94227),L=r(63867);let D=(0,u.createContext)({});function $({children:e}){let t=(0,u.useRef)(!1),r=(0,u.useRef)(!1),i=(0,u.useRef)(!0),n=(0,u.useCallback)(e=>{t.current=e},[]),a=(0,u.useCallback)(e=>{r.current=e},[]),l=(0,u.useCallback)(e=>{i.current=e},[]),s=(0,u.useMemo)(()=>({expandAllFolders:t,refreshTree:r,shouldFetchFolders:i,setExpandAllFolders:n,setRefreshTree:a,setShouldFetchFolders:l}),[n,a,l]);return(0,o.jsx)(D.Provider,{value:s,children:e})}function U(){return(0,u.useContext)(D)}try{D.displayName||(D.displayName="FileTreeControlContext")}catch{}try{$.displayName||($.displayName="FileTreeControlProvider")}catch{}var G=r(65556);function V(e,t,r){let o=[];for(let i of t)if(i.startsWith(e)){let t=i.slice(e.length+1),n=t.indexOf("/"),a=n>0?t.slice(0,n):t,l=`${e}/${a}`;if(r&&r.some(e=>e.path===l))continue;let s={items:[],data:{contentType:l===i?"file":"directory",name:a,path:l,isClientOnly:!0}};o.push(s)}return o}function K(e,t,r){e.data.name=e.data.name.slice(e.data.name.lastIndexOf("/")+1,e.data.name.length);let o=t.name.slice(0,t.name.lastIndexOf("/")),i=o.indexOf("/")>-1,n={path:t.path.slice(0,t.path.lastIndexOf("/")),contentType:t.contentType,name:o,hasSimplifiedPath:i},a={items:[e],data:n};return(r.set(n.path,a),i)?K(a,{...n},r):a}function z(e,t,r,o){if(!e)return{newRootItems:r,rootItemsUpdated:!1};let i=!!e[""]&&Z("",t,r,e[""].items);for(let i of(o?.(r),Object.keys(e).sort()))if(i){let r=t.get(i);r&&(Z(i,t,r.items,e[i].items,o),r.data.totalCount=e[i].totalCount)}return{newRootItems:r,rootItemsUpdated:i}}function Z(e,t,r,o,i){let n=!1;for(let a of o){let o=e?`${e}/${a.name}`:a.name;if(!t.get(o)){let e={items:[],data:{...a}};if(t.set(o,e),a.hasSimplifiedPath){let o=K(e,a,t),l=r.findIndex(e=>e.data.path===o.data.path);-1!==l?o.items.length>r[l].items.length&&(r[l]=o,n=!0):(r.push(o),i?.(r))}else r.push(e),i?.(r)}}return n}function Y({isActive:e,file:t,onItemSelected:r,getItemUrl:i,selectedItemRef:n,navigate:a,onRenderRow:l,getFileTrailingVisual:c,getFileIcon:d}){let{sendRepoClickEvent:h}=(0,m.T)(),f=u.useRef(null),p=(0,q.Z)({focusRowRef:f,mouseRowRef:f}),y="submodule"===t.data.contentType,g=c?.(t.data),x=u.useCallback(o=>{y?(o.preventDefault(),t.data.submoduleUrl&&(window.location.href=t.data.submoduleUrl)):o.metaKey||o.ctrlKey||1===o.button?(window.open(i(t.data),"_blank"),o.preventDefault()):e?o.preventDefault():(r?.(),h("FILES_TREE.ITEM",{item_path:t.data.path}),a(i(t.data)),o.stopPropagation())},[t.data,i,e,y,a,r,h]);return l?.(),(0,o.jsxs)(O.G.Item,{ref:f,onSelect:x,current:e,id:`${t.data.path}-item`,containIntrinsicSize:e?void 0:"auto 2rem",children:[(0,o.jsx)(O.G.LeadingVisual,{children:d?d(t.data):y?(0,o.jsx)(s.FileSubmoduleIcon,{}):(0,o.jsx)(s.FileIcon,{})}),(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("span",{ref:n,style:{color:y?"var(--fgColor-accent, var(--color-accent-fg))":void 0},children:t.data.name}),p&&(0,o.jsx)(_.m,{"data-testid":`${t.data.name}-item-tooltip`,id:`${t.data.name}-item-tooltip`,contentRef:f,"aria-label":t.data.name,open:!0,direction:"ne"})]}),!!g?.screenReaderText&&(0,o.jsx)("span",{className:"sr-only",children:g.screenReaderText}),!!g?.trailingVisual&&(0,o.jsx)(O.G.TrailingVisual,{children:g.trailingVisual})]})}let X=u.memo(Y);function J({clientOnlyFilePaths:e,directory:t,isActive:r,isAncestorOfActive:i,leadingPath:n="",onItemSelected:a,dispatchKnownFolders:l,getItemUrl:s,getFetchUrl:c,selectedItemRef:d,navigate:h,onRenderRow:f,getFileTrailingVisual:p,getFileIcon:y,navigateOnClick:g=!0}){let{expandAllFolders:x,shouldFetchFolders:w}=U(),[k,b]=(0,u.useState)(x?.current||i),{sendRepoClickEvent:v}=(0,m.T)(),R=u.useRef(null),C=u.useRef(null),S=(0,q.Z)({focusRowRef:C,mouseRowRef:R}),[N,A,j,M,E,I,T]=function(e,t,r){let[o,i]=u.useState(e.items),[n,a]=u.useState(e.data.totalCount||0),[l,s]=u.useState(!1),[c,d]=u.useState(!1),{safeSetTimeout:h}=(0,G.A)();u.useEffect(()=>{i(e.items)},[e.items]),u.useEffect(()=>{void 0!==e.data.totalCount&&a(e.data.totalCount)},[e.data.totalCount]);let f=u.useCallback(()=>{d(!1)},[]),m=u.useCallback((e,t)=>{let r=e||[...o];i(r.slice(0,100)),h(()=>{i(r),void 0!==t&&a(t)},1)},[o,h]);return[u.useCallback(async o=>{let n=new Map;if(e.data.isClientOnly){if(o){let r=V(e.data.path,o);for(let e of r)n.set(e.data.path,e);t({type:"add",folders:n,processingTime:0}),r.length>100?m(r,r.length):(i(r),a(r.length))}}else{let l=r(e.data);d(!1),s(!0);let c=Date.now(),u=await (0,F.lS)(`${l}?noancestors=1`);try{if(u.ok){let r=await u.json(),l=r.payload.tree.items.map(e=>{let t={items:[],data:{...e},autoExpand:"directory"===e.contentType&&1===r.payload.tree.items.length};return(n.set(e.path,t),e.hasSimplifiedPath)?K(t,e,n):t});if(o){let t=e.data.path,i=V(t,o,r.payload.tree.items);for(let e of(l.push(...i),i))n.set(e.data.path,e)}t({type:"add",folders:n,processingTime:Date.now()-c}),e.items=l,e.data.totalCount=r.payload.tree.totalCount,l.length>100?m(l,r.payload.tree.totalCount):(i(l),a(r.payload.tree.totalCount))}else d(!0)}catch{d(!0)}}s(!1)},[r,e,t,m]),m,o,l,c,f,n]}(t,l,c),W=T-j.length,H=n?`${n}/`:"";(0,u.useEffect)(()=>{x?.current&&!k&&b(!0)},[t,x,k]);let B=u.useCallback(o=>{x?.current&&(x.current=!1),!o||k||M||E||(t.items.length>100?A():0!==t.items.length||r||i||w?.current===!1||N(e)),o!==k&&b(o)},[x,k,M,E,t.items.length,r,i,w,A,N,e]),P=u.useCallback(e=>{e.metaKey||e.ctrlKey||1===e.button&&g?(window.open(s(t.data),"_blank"),e.preventDefault()):r?e.preventDefault():(a?.(),v("FILES_TREE.ITEM",{item_path:t.data.path}),g?h(s(t.data)):B?.(!k),e.stopPropagation())},[t.data,s,r,k,h,g,a,B,v]);u.useEffect(()=>{i&&!k&&B?.(!0)},[i]),u.useEffect(()=>{0===t.items.length&&k?B?.(!1):!k&&t.autoExpand&&B?.(!0)},[t.items.length]);let L=u.useCallback(e=>{d&&r&&d(e),R.current=e},[d,r]);return 1===t.items.length&&"directory"===t.items[0].data.contentType?(0,o.jsx)(et,{clientOnlyFilePaths:e,directoryItems:t.items,leadingPath:H+t.data.name,inheritsActive:r,dispatchKnownFolders:l,onItemSelected:a,selectedItemRef:d,getItemUrl:s,directoryNavigateOnClick:g,getFileTrailingVisual:p,getFileIcon:y}):(f?.(),(0,o.jsxs)(O.G.Item,{ref:C,expanded:k,onExpandedChange:B,current:r,onSelect:P,id:`${t.data.path}-item`,containIntrinsicSize:r?void 0:"auto 2rem",children:[(0,o.jsx)(O.G.LeadingVisual,{children:(0,o.jsx)(O.G.DirectoryIcon,{})}),(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("span",{ref:L,children:[H,t.data.name]}),S&&(0,o.jsx)(_.m,{"data-testid":`${t.data.name}-directory-item-tooltip`,id:`${t.data.name}-directory-item-tooltip`,contentRef:C,"aria-label":`${H}${t.data.name}`,open:!0,direction:"ne"})]}),(0,o.jsx)(O.G.SubTree,{state:M?"loading":E?"error":"done",children:E?(0,o.jsx)(O.G.ErrorDialog,{onRetry:N,onDismiss:I,children:"There was an error loading the folder contents."}):(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(et,{clientOnlyFilePaths:e,directoryItems:j,dispatchKnownFolders:l,onItemSelected:a,selectedItemRef:d,getItemUrl:s,directoryNavigateOnClick:g,getFileTrailingVisual:p,getFileIcon:y}),W>0&&(0,o.jsx)(eo,{message:`${W} entries not shown`})]})})]}))}let Q=u.memo(J);function ee({clientOnlyFilePaths:e,directoryItems:t,leadingPath:r,inheritsActive:i,onItemSelected:n,dispatchKnownFolders:a,selectedItemRef:l,onRenderRow:s,getItemUrl:c,getFileTrailingVisual:d,getFileIcon:h,directoryNavigateOnClick:f=!0}){let{path:m}=(0,B.eu)(),p=(0,k.Z)(),y=(0,P.Z)(),g=u.useRef(y);return(0,o.jsx)(o.Fragment,{children:t.map(t=>{let u=m===t.data.path,y=u||m.startsWith(`${t.data.path}/`);return"directory"===t.data.contentType?(0,o.jsx)(Q,{clientOnlyFilePaths:e,isActive:i||u,isAncestorOfActive:y,onItemSelected:n,leadingPath:r,directory:t,dispatchKnownFolders:a,getItemUrl:c,getFetchUrl:p.getItemUrl,selectedItemRef:y?l:void 0,navigate:g.current,onRenderRow:s,navigateOnClick:f,getFileTrailingVisual:d,getFileIcon:h,itemCount:t.items.length},t.data.name):(0,o.jsx)(X,{onItemSelected:n,file:t,isActive:u,getItemUrl:c,selectedItemRef:u?l:void 0,navigate:g.current,onRenderRow:s,getFileTrailingVisual:d,getFileIcon:h},t.data.name)})})}let et=u.memo(ee);function er(e){let{clientOnlyFilePaths:t,data:r,rootItems:i,setRootItems:n,fetchError:a,processingTime:l,loading:s,onRenderRow:c,getItemUrl:d,getFileTrailingVisual:h,getFileIcon:f,sortDirectoryItems:m}=e,{knownFolders:p,dispatchKnownFolders:y}=(0,u.useContext)(H),{refreshTree:g}=U();u.useEffect(()=>{if(s)return;let e=new Map,t=[];g?.current||(e=new Map(p),t=i.slice());let{newRootItems:o,rootItemsUpdated:a}=z(r,e,t,m);(o.length>i.length||a||g?.current)&&n(o),(e.size>p.size||g?.current)&&y({type:"set",folders:e,processingTime:l}),g?.current&&(g.current=!1)},[r,s]);let x=u.useCallback(e=>{1===e.button&&e.preventDefault()},[]);return(0,o.jsx)(A.A,{onMouseDown:x,sx:{px:3,pb:2,...e.sx},"data-testid":"repos-file-tree-container",children:s?(0,o.jsx)(A.A,{sx:{display:"flex",justifyContent:"center",p:2},children:(0,o.jsx)(L.A,{"aria-label":"Loading file tree"})}):(0,o.jsx)("nav",{"aria-label":"File Tree Navigation",children:(0,o.jsxs)(O.G,{"aria-label":"Files",children:[a&&(0,o.jsx)(eo,{message:"Some files could not be loaded."}),(0,o.jsx)(et,{clientOnlyFilePaths:t,directoryItems:i,onItemSelected:e.onItemSelected,dispatchKnownFolders:y,selectedItemRef:e.selectedItemRef,onRenderRow:c,directoryNavigateOnClick:e.directoryNavigateOnClick,getItemUrl:d,getFileTrailingVisual:h,getFileIcon:f})]})})})}function eo({message:e}){return(0,o.jsxs)(O.G.Item,{id:"error-tree-row",children:[(0,o.jsx)(O.G.LeadingVisual,{children:(0,o.jsx)(T.A,{icon:s.AlertFillIcon,sx:{color:"attention.fg"}})}),(0,o.jsx)(A.A,{sx:{color:"fg.muted"},children:e||"Couldn't load."})]})}try{Y.displayName||(Y.displayName="WrappedFileTreeRow")}catch{}try{X.displayName||(X.displayName="FileTreeRow")}catch{}try{J.displayName||(J.displayName="WrappedDirectoryTreeRow")}catch{}try{Q.displayName||(Q.displayName="DirectoryTreeRow")}catch{}try{ee.displayName||(ee.displayName="WrappedDirectoryContents")}catch{}try{et.displayName||(et.displayName="DirectoryContents")}catch{}try{er.displayName||(er.displayName="ReposFileTreeView")}catch{}try{eo.displayName||(eo.displayName="ErrorTreeRow")}catch{}var ei=r(4284);function en({sx:e,onClick:t,textAreaId:r}){let{searchShortcut:a}=(0,n.wk)();return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(M.K,{unsafeDisableTooltip:!0,"aria-label":"Search this repository",icon:s.SearchIcon,"data-hotkey":a.hotkey,sx:{color:"fg.subtle",fontSize:14,fontWeight:"normal",flexShrink:0,...e},size:"medium",onClick:e=>{t?.(),(0,ei.Z)({retainScrollPosition:!0,returnTarget:e.target.closest("button")})}}),(0,o.jsx)(i._,{buttonFocusId:r,buttonHotkey:a.hotkey,onButtonClick:()=>{let e=document.getElementById(r);t?.(),(0,ei.Z)({retainScrollPosition:!0,returnTarget:e??void 0})},onlyAddHotkeyScopeButton:!0})]})}try{en.displayName||(en.displayName="SearchButton")}catch{}let ea=C.Gy.xxxlarge;function el({clientOnlyFilePaths:e,collapseTree:t,showTree:r,fileTree:i,treeToggleElement:n,treeToggleRef:a,onItemSelected:c,processingTime:d,searchBoxRef:h,repo:f,path:m,refInfo:b,isFilePath:B,foldersToFetch:_,id:q,onFindFilesShortcut:P,textAreaId:O,getItemUrlOverride:L,headerSx:D,paneSx:$,paneContentsSx:U,treeContainerSx:G,findFileWorkerPath:V,headerContent:K,getFileTrailingVisual:Z,getFileIcon:Y,sortDirectoryItems:X,showFindFile:J=!0,directoryNavigateOnClick:Q=!0,showRefSelectorRow:ee=!0,paneResizable:et=!0}){if(J&&void 0===V)throw Error("findFileWorkerPath must be provided when showFindFile is true");let{openPanel:eo}=(0,w.Ak)(),[ei,el]=u.useState(_.length>0),[ed,eu]=u.useState(!1),eh=u.useRef([]),ef=u.useRef(null),em=u.useRef(!1),ep=u.useRef(!1),ey=u.useRef(null),{query:eg}=(0,x.JS)(),ex=u.useRef(eg);ex.current=eg;let{codeCenterOption:ew}=(0,S.ud)(),ek=u.useRef(eo),[eb]=(0,l.I)(()=>!1,!0,[]),{getItemUrl:ev}=(0,k.Z)(),eR=L||ev,eC=[],eS=new Map,eF=u.useRef(ei);!eF.current&&i&&(eC=z(i,eS,[],X).newRootItems),eF.current=!0;let[eN,eA]=u.useReducer(es,eS),[ej,eM]=u.useState(eC);u.useEffect(()=>{r&&(!eg||window.innerWidth>=C.Gy.large)||(ey.current=null)},[r,eg]),u.useEffect(()=>{eo&&ek.current!==eo&&window.innerWidth<ea&&t({setPreference:!1}),ek.current=eo},[t,eo]);let eE=u.useCallback(async e=>{let t=ev({contentType:"directory",path:e,name:e});try{let r=await (0,F.lS)(`${t}?noancestors=1`);if(r.ok){let t=await r.json(),o={items:t.payload.tree.items,totalCount:t.payload.tree.totalCount};i[e]=o}else eu(!0)}catch{eu(!0)}eh.current.push(e),eh.current.length===_.length&&el(!1)},[i,_.length,ev]);u.useEffect(()=>{if(_&&!em.current)for(let e of _)eE(e);em.current=!0},[eE,_,eN.size]);let eI=u.useCallback(e=>{r&&(!ex.current||window.innerWidth>=C.Gy.large)&&ef.current&&e&&(0,N.Rt)(e,ef.current,{endMargin:window.innerHeight/2,startMargin:window.innerHeight/2,behavior:"auto"})},[r]),eT=u.useCallback(e=>{e&&ep.current?ep.current=!1:ey.current!==e&&eI(e),ey.current=e},[eI]),eW=u.useCallback(e=>{ef.current=e,window.innerWidth>=ea&&eI(ey.current)},[eI]),eH=u.useCallback(e=>{e&&eI(ey.current)},[eI]),{screenSize:eB}=(0,C.lm)(),e_=!eb&&(eo&&eB<ea||eB<C.Gy.xlarge)&&eB>=C.Gy.large,eq=u.useCallback(()=>{e_||c(),ep.current=!0},[c,e_]),eP=r?{}:{display:"none"},eO=B?m.substring(0,m.lastIndexOf("/")):m,eL=(0,u.useMemo)(()=>({knownFolders:eN,dispatchKnownFolders:eA}),[eN]),eD=u.useMemo(()=>eb?null:(0,W.KF)(),[eb]),e$=u.useCallback(()=>{window.innerWidth>C.Gy.large&&window.innerWidth<C.Gy.xxxxlarge&&t({setPreference:!1})},[t]),eU=(0,o.jsxs)(A.A,{id:q,sx:{maxHeight:"100%",height:"100%",display:"flex",flexDirection:"column","@media screen and (max-width: 768px)":eb?{display:"none"}:void 0,"@media screen and (min-width: 768px)":{maxHeight:"100vh",height:"100vh"},...U},children:[(0,o.jsxs)(A.A,{sx:{display:"flex",flexDirection:"column",alignItems:"center",px:3,pb:2,pt:3,...D},children:[K,ee&&(0,o.jsxs)(A.A,{sx:{mx:4,display:"flex",width:"100%"},children:[(0,o.jsx)(A.A,{sx:{flexGrow:1},children:(0,o.jsx)(g.R,{buttonClassName:"react-repos-tree-pane-ref-selector width-full ref-selector-class",allowResizing:!0})}),(0,o.jsxs)(A.A,{sx:{ml:2,whiteSpace:"nowrap","&:hover button:not(:hover)":{borderLeftColor:"var(--button-default-borderColor-hover, var(--color-btn-hover-border))"}},children:[b.canEdit&&(0,o.jsx)(j.m,{text:"Add file","aria-label":"Add file",direction:"s",children:(0,o.jsx)(M.K,{unsafeDisableTooltip:!0,"aria-label":"Add file",as:R.N,sx:{color:"fg.subtle",borderTopRightRadius:0,borderBottomRightRadius:0,borderRight:0},icon:s.PlusIcon,to:(0,v.IO9)({repo:f,path:eO,commitish:b.name,action:"new"}),onClick:eq})}),(0,o.jsx)(en,{sx:b.canEdit?{borderTopLeftRadius:0,borderBottomLeftRadius:0}:void 0,onClick:e$,textAreaId:O})]})]})]}),b.currentOid&&J&&V&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(y.default,{commitOid:b.currentOid,findFileWorkerPath:V,onItemSelected:c,searchBoxRef:h,sx:{ml:3,mr:3,mb:"12px","@media screen and (max-width: 768px)":eb?{display:"none"}:void 0}}),(0,o.jsx)(p,{inputRef:h,onFindFilesShortcut:P,textAreaId:O})]}),(0,o.jsx)(ec,{scrollingRef:ef}),(0,o.jsxs)(A.A,{ref:eW,sx:{flexGrow:1,maxHeight:"100% !important",overflowY:"auto","@media screen and (max-width: 768px)":eb?{display:"none"}:void 0,scrollbarGutter:"stable"},children:[eb?b.currentOid&&(0,o.jsx)("div",{className:eg?"react-tree-show-tree-items-on-large-screen":"react-tree-show-tree-items",children:(0,o.jsx)(er,{clientOnlyFilePaths:e,data:i,rootItems:ej,selectedItemRef:eT,setRootItems:eM,onItemSelected:eq,processingTime:d,loading:ei,fetchError:ed,directoryNavigateOnClick:Q,getItemUrl:eR,sx:G,getFileTrailingVisual:Z,getFileIcon:Y,sortDirectoryItems:X})}):eD&&(0,o.jsx)(W.bL,{node:eD}),!b.currentOid&&!f.isEmpty&&(0,o.jsxs)(A.A,{sx:{mt:2,mx:4,mb:"12px",fontSize:1,alignItems:"center",color:"danger.fg"},children:[(0,o.jsx)(T.A,{icon:s.AlertFillIcon}),"\xa0Ref is invalid"]})]})]}),eG=e_||eo?{"@media print, screen and (max-width: 1349px) and (min-width: 768px)":{display:"none"}}:{"@media print, screen and (max-width: 1011px) and (min-width: 768px)":{display:"none"}};return(0,o.jsxs)(H.Provider,{value:eL,children:[eD&&(0,o.jsx)(W.oj,{node:eD,children:b.currentOid&&(0,o.jsx)("div",{className:eg?"react-tree-show-tree-items-on-large-screen":"react-tree-show-tree-items",children:(0,o.jsx)(er,{clientOnlyFilePaths:e,data:i,directoryNavigateOnClick:Q,rootItems:ej,selectedItemRef:eT,setRootItems:eM,onItemSelected:eq,processingTime:d,loading:ei,fetchError:ed,getItemUrl:eR,sx:G,getFileTrailingVisual:Z,getFileIcon:Y,sortDirectoryItems:X})})}),!r&&ew.enabled&&n&&(0,o.jsx)(A.A,{sx:{position:"absolute",p:3,display:"none","@media screen and (min-width: 1360px)":{display:"block"}},children:n}),(0,o.jsx)(E.O7.Pane,{position:"start",sticky:!0,sx:{minWidth:0,...eP,"@media screen and (min-width: 768px)":{height:"100vh",maxHeight:"100vh !important"},...eG,...$},padding:"none",width:"large",resizable:!!et,widthStorageKey:"codeView.tree-pane-width",divider:{regular:"none",narrow:"none"},children:r&&!e_&&(0,o.jsx)("div",{className:eb?eo?"react-tree-pane-contents-3-panel":"react-tree-pane-contents":void 0,children:eU})}),r&&e_&&ek.current===eo&&(0,o.jsx)(I.Ay,{className:eb?eo?"react-tree-pane-overlay-3-panel":"react-tree-pane-overlay":void 0,ref:eH,returnFocusRef:a,onClickOutside:e$,onEscape:e$,top:0,position:"fixed",sx:{...eP,width:"440px",height:"100vh",maxHeight:"100vh",borderTopLeftRadius:0,borderBottomLeftRadius:0},children:(0,o.jsx)(o.Fragment,{children:eU})})]})}function es(e,t){switch(t.type){case"set":{let r=e?.size>0;return(0,b.BI)("file-tree",{"fetch-count":r?t.folders.size-e.size:t.folders.size,"file-count":t.folders.size,"nav-type":r?"soft":"hard","processing-time":t.processingTime}),t.folders}case"add":{let r=new Map([...e,...t.folders]);return(0,b.BI)("file-tree",{"fetch-count":t.folders.size,"file-count":r.size,"nav-type":"fetch","processing-time":t.processingTime}),r}default:throw Error(`Unknown action type: ${t.type}`)}}function ec({scrollingRef:e}){let[t,r]=u.useState(e.current&&e.current.scrollTop>0);return u.useEffect(()=>{if(e.current){let t=e.current,o=()=>{t&&t.scrollTop>0?r(!0):r(!1)};return t.addEventListener("scroll",o),()=>{t.removeEventListener("scroll",o)}}},[e]),t?(0,o.jsx)(A.A,{sx:{borderBottom:"1px solid",borderColor:"border.default",boxShadow:"0 3px 8px rgba(0, 0, 0, 0.3)"}}):null}try{el.displayName||(el.displayName="ReposFileTreePane")}catch{}try{ec.displayName||(ec.displayName="TreeBorder")}catch{}var ed=r(14757),eu=r(15180),eh=r(46636),ef=r(47584),em=r(38568),ep=r(84217);function ey(e,t,r,i,n,a="fileTreeExpanded",l){let{sendRepoClickEvent:s}=(0,m.T)(),c=(0,eh.i)(),d=a?(0,eu.Ri)(a):void 0,h=!(void 0!==ef.XC),p=!c&&d&&"false"!==d.value||c&&r;void 0===p&&(p=!1);let y=(0,u.useRef)(null),g=(0,u.useRef)(null),{screenSize:x}=(0,C.lm)(),[w,k]=(0,u.useState)(p),b=(0,u.useRef)(p),v=(0,u.useRef)(!1),R=(0,u.useRef)(!1),S=(0,u.useCallback)(()=>!(t.current&&window.innerWidth>=ea||!t.current&&window.innerWidth>=C.Gy.xlarge),[t]);(0,em.N)(()=>{let e=S();e||(v.current=!1),k((0,ed.q)()&&x<C.Gy.large&&!R.current||(!e||v.current)&&(c&&w||!c&&d?.value!=="false"))},[v,d?.value,x,t,S,c]),(0,em.N)(()=>{let e=!t.current&&window.innerWidth<C.Gy.xlarge,r=!t.current&&window.innerWidth>=C.Gy.xlarge;e&&b.current&&!(0,ed.q)()&&w&&k(!1),r&&b.current&&!w&&k(!0)},[t,x]),(0,em.N)(()=>{let e=t.current&&window.innerWidth<ea,r=t.current&&window.innerWidth>=ea;e&&b.current&&!(0,ed.q)()&&w&&k(!1),r&&b.current&&!w&&k(!0)},[t]);let F=(0,u.useCallback)(e=>{if(k(!0),S()&&(v.current=!0),e?.setPreference&&(n?.(!0),b.current=!0,a)){let e=new Date(Date.now()+2592e6).toUTCString();(0,eu.TV)(a,"true",e)}e?.focus==="toggleButton"?requestAnimationFrame(()=>y.current?.focus()):e?.focus==="search"&&requestAnimationFrame(()=>g.current?.focus())},[a,2592e6,S,n]),N=(0,u.useCallback)(e=>{if(k(!1),v.current=!1,R.current=!0,e?.setPreference&&(n?.(!1),b.current=!1,a)){let e=new Date(Date.now()+2592e6).toUTCString();(0,eu.TV)(a,"false",e)}e?.focus==="toggleButton"&&requestAnimationFrame(()=>y.current?.focus())},[a,2592e6,n]),A=(0,u.useCallback)(e=>e&&window.innerWidth>=ea||!t.current&&window.innerWidth>=C.Gy.xlarge,[t]),j=(0,u.useMemo)(()=>(0,o.jsx)(ep.A,{as:"h2",sx:{display:"flex",fontSize:1},children:(0,o.jsx)(f,{expanded:w,ariaControls:e,onToggleExpanded:()=>{s(w?"FILES_TREE.HIDE":"FILES_TREE.SHOW"),w?N({focus:"toggleButton",setPreference:A(t.current)}):F({focus:"toggleButton",setPreference:A(t.current)})},className:void 0!==d||w||h?void 0:"react-tree-toggle-button-with-indicator",ref:y,textAreaId:i,...l})}),[w,e,d,h,i,l,s,N,A,t,F]);return{isTreeExpanded:w,expandTree:F,collapseTree:N,treeToggleElement:j,treeToggleRef:y,searchBoxRef:g}}},70404:(e,t,r)=>{r.d(t,{S:()=>s,s:()=>l});var o=r(21728),i=r(96540),n=r(46988),a=r(50045);function l(){let e,t;let r=(0,o.c)(6),l=(0,i.useContext)(a.I);if(!l)throw Error("useAnalytics must be used within an AnalyticsContext");let{appName:s,category:c,metadata:d}=l;r[0]!==s||r[1]!==c||r[2]!==d?(e=(e,t,r)=>{let o={react:!0,app_name:s,category:c,...d};(0,n.BI)(e,{...o,...void 0===r?{}:r,target:t})},r[0]=s,r[1]=c,r[2]=d,r[3]=e):e=r[3];let u=e;return r[4]!==u?(t={sendAnalyticsEvent:u},r[4]=u,r[5]=t):t=r[5],t}function s(){let e,t;let r=(0,o.c)(4),{sendAnalyticsEvent:i}=l();r[0]!==i?(e=e=>{i("analytics.click",void 0,void 0===e?{}:e)},r[0]=i,r[1]=e):e=r[1];let n=e;return r[2]!==n?(t={sendClickAnalyticsEvent:n},r[2]=n,r[3]=t):t=r[3],t}},41720:(e,t,r)=>{r.d(t,{X:()=>i});var o=r(94232);function i(e){let t=e.join(","),[r]=(0,o.I)(()=>{let e=/Windows/.test(navigator.userAgent)?"windows":/Macintosh/.test(navigator.userAgent)?"mac":null;return!!e&&t.includes(e)},!1,[t]);return r}},46928:(e,t,r)=>{r.d(t,{Z:()=>h,o:()=>f});var o=r(96540),i=r(47767),n=r(45588),a=r(84976),l=r(1090),s=r(73081),c=r(58135),d=r(76801),u=r(55048);let h=()=>{let{routes:e}=o.useContext(d.k),t=(0,i.Zp)(),a=(0,u.E)();return o.useCallback((i,d={})=>{let u=(0,n.o1)(i).pathname;if((0,n.ue)(e,u)){(0,l.A)(location.href,i.toString())||(0,s.SC)("react");let{preventAutofocus:e,...r}=d;(0,o.startTransition)(()=>{if(t(i,e?{...r,state:{[c.V]:!0,...r.state}}:r),!a){let{turbo:e,...t}=window.history.state??{};window.history.replaceState({...t,skipTurbo:!0},"",location.href)}})}else{let e="string"==typeof i?i:(0,n.AO)(i);(async()=>{let{softNavigate:t}=await Promise.all([r.e("vendors-node_modules_github_turbo_dist_turbo_es2017-esm_js"),r.e("ui_packages_soft-navigate_soft-navigate_ts")]).then(r.bind(r,61828));t(e)})()}},[t,a,e])},f=()=>{let[e]=(0,a.ok)(),t=h(),{pathname:r}=(0,i.zy)(),n=o.useCallback((o,i={})=>{t({pathname:r,search:(0,a.PI)("function"==typeof o?o(e):o).toString()},i)},[e,t,r]);return[e,n]}},6262:(e,t,r)=>{r.d(t,{E:()=>n});var o=r(74848),i=r(69197);function n({children:e}){return(0,i.P)()?(0,o.jsx)(o.Fragment,{children:e}):null}try{n.displayName||(n.displayName="AllShortcutsEnabled")}catch{}},37138:(e,t,r)=>{r.d(t,{_:()=>i});var o=r(74848);function i({buttonFocusId:e,buttonHotkey:t,onButtonClick:r,buttonTestLabel:i,onlyAddHotkeyScopeButton:n}){return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("button",{hidden:!0,"data-testid":i||"","data-hotkey":t,onClick:r,"data-hotkey-scope":e}),!n&&(0,o.jsx)("button",{hidden:!0,"data-hotkey":t,onClick:r})]})}try{i.displayName||(i.displayName="DuplicateOnKeydownButton")}catch{}},46112:(e,t,r)=>{r.d(t,{R:()=>h});var o=r(74848),i=r(17908),n=r(5796),a=r(17500),l=r(67136),s=r(96540),c=r(14194),d=r(71061),u=r(78904);function h({size:e,buttonClassName:t,allowResizing:r,idEnding:h}){let f=(0,i.t)(),{refInfo:m,path:p,action:y}=(0,c.eu)(),g=function(){let{addToast:e}=(0,l.Y6)();return(0,s.useCallback)(t=>e({type:"error",message:t}),[e])}(),{sendRepoClickEvent:x}=(0,u.T)(),{refSelectorShortcut:w}=(0,d.wk)();return(0,o.jsx)(a.PI,{currentCommitish:m.name,defaultBranch:f.defaultBranch,owner:f.ownerLogin,repo:f.name,canCreate:f.currentUserCanPush,cacheKey:m.listCacheKey,selectedRefType:m.refType,getHref:e=>`${(0,n.IO9)({repo:f,commitish:e,action:y,path:p})}${window.location.search}`,hotKey:w.hotkey,onBeforeCreate:e=>x("REF_SELECTOR_MENU.CREATE_BRANCH",{ref_name:e}),onCreateError:g,onOpenChange:e=>e&&x("REF_SELECTOR_MENU"),size:e,buttonClassName:t,allowResizing:r,idEnding:h||"repos-header-ref-selector",useFocusZone:!0})}try{h.displayName||(h.displayName="ReposHeaderRefSelector")}catch{}},11024:(e,t,r)=>{r.r(t),r.d(t,{FileResultRow:()=>T,default:()=>E});var o=r(74848),i=r(23832),n=r(14194),a=r(78904),l=r(38556),s=r(17908),c=r(69252),d=r(5796),u=r(17774),h=r(41980),f=r(46928),m=r(69676),p=r(38621),y=r(82678),g=r(75177),x=r(65481),w=r(8338),k=r(34614),b=r(85349),v=r(63867),R=r(30729),C=r(91385),S=r(96540),F=r(73412),N=r(7911),A=r(14757),j=r(83023);let M={excludeDirectories:!1,excludeSeeAllResults:!1};function E({actionListSx:e,additionalResults:t,commitOid:r,config:u=M,findFileWorkerPath:p,getItemUrl:v,onRenderRow:R,onItemSelected:C,searchBoxRef:E,sx:T}){let{excludeDirectories:W,excludeSeeAllResults:H}=u,{query:_,setQuery:q}=(0,i.JS)(),P=(0,s.t)(),O=S.useRef(null),L=E??O,[D,$]=S.useState(_.length>0),[U,G]=S.useState(!!_),{list:V,directories:K,loading:z,error:Z}=(0,j.o)(r,D,!!W),{path:Y}=(0,n.eu)(),{getUrl:X}=(0,l.Z)(),{queryText:J,queryLine:Q}=function(e){let t=(e=e.replaceAll(" ","")).indexOf(":");return t>=0?{queryText:e.substring(0,t),queryLine:parseInt(e.substring(t+1),10)}:{queryText:e,queryLine:void 0}}(_),{matches:ee,clearMatches:et}=function(e,t,r,o){let[i,n]=S.useState(),l=S.useRef(""),s=S.useRef(),{sendStats:c}=(0,a.T)(),d=S.useRef(!1),u=S.useCallback(()=>{let e=new F.z(r,N.j);e.onmessage=({data:e})=>{d.current=!1,n(e.list),l.current=e.query,e.startTime&&c("repository.find-file",{"find-file-base-count":e.baseCount,"find-file-results-count":e.list.length,"find-file-duration-ms":performance.now()-e.startTime})},s.current=e},[c,r]);return S.useEffect(()=>{if(o)return u(),function(){s.current?.terminate()}},[u,o]),S.useEffect(()=>{if(e.length&&t){d.current&&(s.current?.terminate(),u());let r=l.current&&t.startsWith(l.current);d.current=!0,s.current?.postMessage({baseList:r&&i||e,query:t,startTime:performance.now()})}},[e,t,u]),{matches:i,clearMatches:()=>n(void 0)}}((0,S.useMemo)(()=>[...V,...t??[]].sort(),[t,V]),J,p,D),{sendRepoClickEvent:er}=(0,a.T)(),eo=(0,f.Z)(),[ei,en]=S.useState(0),[ea,el]=S.useState(()=>(0,A.q)()),es=S.useRef(null),ec=S.useRef(null),ed="file-results-list",{sendRepoKeyDownEvent:eu}=(0,a.T)(),{screenSize:eh}=(0,h.lm)(),ef=u.enableOverlay??eh>=h.Gy.large,em=S.useCallback(e=>{er("FILE_TREE.SEARCH_RESULT_CLICK"),C?.(e),G(!1)},[er,C]),ep=(e,t,r)=>v?v(e,t,r):X({path:e,action:t?"tree":"blob",hash:r}),{containerRef:ey}=(0,y.G)({bindKeys:m.z0.ArrowVertical|m.z0.HomeAndEnd,focusInStrategy:"previous"},[z,Z]);S.useEffect(()=>{_||G(!1)},[_]),S.useEffect(()=>{document.activeElement!==L.current&&ef&&G(!1)},[Y,L,ef]);let eg=ee?.slice(0,40)||[],ex=ee&&ee.length>eg.length,ew=(0,o.jsx)(g.A,{sx:{maxHeight:ef?"60vh":"100% !important",overflowY:"auto",scrollbarGutter:"stable",maxWidth:"100vw","@media (max-width: 768px)":{ml:3,mr:2}},children:Z?(0,o.jsx)(x.A,{variant:"danger",className:"m-3",children:"Failed to search"}):(0,o.jsxs)(w.l,{ref:ey,sx:{overflow:"auto",p:ef?2:3,width:"100%",pr:ef?3:0,pt:ef?3:"2px !important",...e},role:"listbox",children:[!z&&eg.map((e,t)=>{let r=K.includes(e),i=ep(e,r,Q?`L${Q}`:"");return(0,o.jsx)(B,{active:e===Y,index:t,focused:ea&&ei===t,match:e,onRender:R,query:J,onClick:em,isDirectory:r,to:i,useOverlay:ef,listRef:ey},e)}),(0,o.jsxs)("div",{className:"m-3 text-center",children:[(0,o.jsx)(I,{loading:z||!ee,visibleResultCount:eg.length,truncated:!!ex}),ex&&!H&&(0,o.jsxs)(o.Fragment,{children:["\xa0",(0,o.jsx)(k.A,{id:"see-all-results-link",className:"focus-visible",ref:es,href:(0,d.Y8Y)({owner:P.ownerLogin,repo:P.name,searchTerm:`path:${J}`}),sx:ea&&ei===eg.length?{outline:"2px solid var(--focus-outlineColor, var(--color-accent-fg))",outlineOffset:"-2px",boxShadow:"none"}:{},children:"See all results"})]})]})]})});return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(g.A,{ref:ec,sx:{mx:2,...T},children:(0,o.jsx)(A.Z,{ariaActiveDescendant:(!ef&&_||ef&&U)&&ea&&ei>-1?ex&&ei===eg.length?"see-all-results-link":`file-result-${ei}`:void 0,ariaExpanded:ef?U:void 0,ariaHasPopup:ef,ariaControls:ef?ed:void 0,ref:L,query:_,onKeyDown:e=>{let{key:t,shiftKey:r,metaKey:o,altKey:i,ctrlKey:n}=e;if(!r&&!o&&!i){if("Escape"===t)_?(eu("FILE_TREE.CANCEL_SEARCH"),q(""),et()):document.activeElement&&document.activeElement.blur();else if(!_)return;else if("Enter"===t){if(!H&&ex&&ei===eg.length)eo((0,d.Y8Y)({owner:P.ownerLogin,repo:P.name,searchTerm:`path:${J}`})),C?.();else if(eg[ei]){let e=eg[ei];eo(ep(eg[ei],!1,Q?`L${Q}`:"")),G(!1),C?.(e)}}else if("ArrowDown"===t||n&&"n"===t){if(!H&&ex&&ei>=eg.length-1){if(en(eg.length),es.current&&ey.current){let e=(0,c.U)(ey.current);(0,m.Rt)(es.current,e,{behavior:"instant"})}}else en(Math.min(ei+1,eg.length-1));e.preventDefault();return}else if("ArrowUp"===t||n&&"p"===t){en(Math.max(ei-1,0)),e.preventDefault();return}}},onPreload:()=>$(!0),onSearch:e=>{q(e),e?G(!0):(et(),G(!1)),en(0)},onBlur:e=>{ey.current?.contains(e.relatedTarget)||(G(!1),el(!1))},onFocus:()=>{_&&G(!0),el(!0)},sx:{minWidth:"160px"}})}),ef&&(0,o.jsx)(b.T,{anchorRef:ec,open:ef&&U,renderAnchor:null,onClose:()=>{G(!1)},focusZoneSettings:{disabled:!0},focusTrapSettings:{disabled:!0},width:"xlarge",align:"end",overlayProps:{id:ed,role:"dialog"},children:ew}),!ef&&_&&ew]})}function I({visibleResultCount:e,truncated:t,loading:r}){return(0,o.jsx)("span",{role:"status",className:r||t||0===e?void 0:"sr-only","aria-label":r?"Loading":void 0,children:r?(0,o.jsx)(v.A,{size:"large"}):0===e?"No matches found":t?`First ${e} files shown.`:`Showing ${e} files.`},"results-count-status")}let T=({active:e,focused:t,index:r,match:i,query:n,to:a,isDirectory:l,onClick:s,onRender:d,useOverlay:h,listRef:f})=>{let p=(0,C.Xq)(n,i);d?.();let y=S.useRef(null),x=l?W:H;S.useEffect(()=>{if(t&&y.current&&f?.current){let e=(0,c.U)(f.current);(0,m.Rt)(y.current,e,{behavior:"instant"})}},[t,f]);let k={};t&&(k={outline:"none",border:"2 solid",boxShadow:"0 0 0 2px #0969da"});let b=(0,S.useCallback)(()=>{s?.(i)},[i,s]);return(0,o.jsx)(w.l.Item,{id:`file-result-${r}`,ref:y,as:u.N,onSelect:b,to:a,active:e,className:"d-flex",sx:{fontWeight:"normal",":hover":{textDecoration:"none"},mx:"2px",width:"calc(100% - 4px)",...k},role:"option","data-focus-visible-added":t||void 0,tabIndex:h?-1:0,children:(0,o.jsxs)("div",{className:"d-flex",children:[(0,o.jsx)("div",{className:"d-flex flex-1 flex-column overflow-hidden",children:(0,o.jsx)(_,{text:i,positionsList:p,sx:{color:"fg.muted"},LeadingIcon:x})}),t&&(0,o.jsx)(g.A,{sx:{pl:1,whiteSpace:"nowrap",color:"fg.muted"},children:`Go to ${l?"folder":"file"}`})]})},i)},W=()=>(0,o.jsx)(R.A,{"aria-label":"Directory",icon:p.FileDirectoryFillIcon,sx:{color:"var(--treeViewItem-leadingVisual-iconColor-rest, var(--color-icon-directory))",mr:2},size:"small"}),H=()=>(0,o.jsx)(R.A,{"aria-label":"File",icon:p.FileIcon,className:"fgColor-muted mr-2",size:"small"}),B=S.memo(T);function _({text:e,positionsList:t,sx:r,LeadingIcon:i}){let n=[],a=0;for(let r of t){if(Number(r)!==r||r<a||r>e.length)continue;let t=e.slice(a,r);t&&n.push(q(t)),a=r+1,n.push((0,o.jsx)("mark",{className:"text-bold bgColor-transparent fgColor-default",children:e[r]},r))}return n.push(q(e.slice(a))),(0,o.jsx)(g.A,{sx:r,children:(0,o.jsxs)(o.Fragment,{children:[i&&(0,o.jsx)(i,{}),n]})})}function q(e){return e.replaceAll("/","/\u200B")}try{E.displayName||(E.displayName="FileResultsList")}catch{}try{I.displayName||(I.displayName="FileResultsStatus")}catch{}try{T.displayName||(T.displayName="FileResultRow")}catch{}try{W.displayName||(W.displayName="DirectoryIcon")}catch{}try{H.displayName||(H.displayName="FileResultIcon")}catch{}try{B.displayName||(B.displayName="MemoizedFileResultRow")}catch{}try{_.displayName||(_.displayName="HighlightMatch")}catch{}},14757:(e,t,r)=>{r.d(t,{Z:()=>h,q:()=>f});var o=r(74848),i=r(70170),n=r(6262),a=r(78904),l=r(47584),s=r(38621),c=r(67138),d=r(75177),u=r(96540);let h=u.forwardRef(({ariaActiveDescendant:e,ariaControls:t,ariaExpanded:r,ariaHasPopup:l,onBlur:h,onFocus:m,onKeyDown:p,onPreload:y,onSearch:g,query:x,sx:w},k)=>{let{sendRepoClickEvent:b}=(0,a.T)(),[v,R]=u.useState(x),C=u.useRef((0,i.s)(e=>g(e),250));u.useEffect(()=>{R(x)},[x]);let S=x?(0,o.jsx)(c.A.Action,{onClick:()=>{b("FILE_TREE.CANCEL_SEARCH"),g("")},icon:s.XCircleFillIcon,"aria-label":"Clear",className:"fgColor-muted"}):void 0;return(0,o.jsx)(c.A,{autoFocus:f(),ref:k,value:v,onKeyDown:p,onChange:e=>{R(e.target.value),y(),C.current(e.target.value)},sx:{display:"flex",...w},"aria-label":"Go to file","aria-activedescendant":e,role:l?"combobox":void 0,"aria-controls":t,"aria-expanded":r,"aria-haspopup":l?"dialog":void 0,autoCorrect:"off",spellCheck:"false",placeholder:"Go to file",leadingVisual:s.SearchIcon,trailingAction:S,trailingVisual:S?void 0:()=>(0,o.jsx)(n.E,{children:(0,o.jsx)(d.A,{sx:{mr:"-6px"},children:(0,o.jsx)("kbd",{children:"t"})})}),onFocus:e=>{y(),e.target.select(),m?.(e)},onBlur:h,onClick:()=>b("FILE_TREE.SEARCH_BOX")})});function f(){return"1"===new URLSearchParams(l.fV.search).get("search")}h.displayName="FilesSearchBox"},69197:(e,t,r)=>{r.d(t,{$:()=>a,P:()=>l});var o=r(74848),i=r(96540);let n=i.createContext(!0);function a({allShortcutsEnabled:e,children:t}){return(0,o.jsxs)(n.Provider,{value:e,children:[" ",t," "]})}function l(){return i.useContext(n)}try{n.displayName||(n.displayName="AllShortcutsEnabledContext")}catch{}try{a.displayName||(a.displayName="AllShortcutsEnabledProvider")}catch{}},23832:(e,t,r)=>{r.d(t,{Ck:()=>l,JS:()=>a});var o=r(74848),i=r(96540);let n=(0,i.createContext)({query:"",setQuery:()=>void 0});function a(){return(0,i.useContext)(n)}function l({children:e}){let[t,r]=(0,i.useState)(""),a=(0,i.useMemo)(()=>({query:t,setQuery:r}),[r,t]);return(0,o.jsx)(n.Provider,{value:a,children:e})}try{n.displayName||(n.displayName="FileQueryContext")}catch{}try{l.displayName||(l.displayName="FileQueryProvider")}catch{}},14194:(e,t,r)=>{r.d(t,{eu:()=>s,qV:()=>l,sq:()=>c});var o=r(74848),i=r(38359),n=r(96540);let a=n.createContext({});function l({children:e,...t}){return(0,o.jsx)(a.Provider,{value:t,children:e})}function s(){return n.useContext(a)}function c(){return(0,i.X)()}try{a.displayName||(a.displayName="FilesPageInfoContext")}catch{}try{l.displayName||(l.displayName="FilesPageInfoProvider")}catch{}},16980:(e,t,r)=>{r.d(t,{Ak:()=>h,cD:()=>u,iK:()=>d});var o=r(74848),i=r(9531),n=r(46636),a=r(80688),l=r(41980),s=r(96540);let c=(0,a.A)("localStorage"),d=(0,s.createContext)({openPanel:void 0,setOpenPanel:()=>void 0});function u({children:e,payload:t,openPanelRef:r}){let a="blame"in t,u=(0,i.Hf)(t),h=(0,n.i)(),f=(0,s.useRef)(void 0),[m,p]=(0,s.useState)(()=>{let e=c.getItem("codeNavOpen");if(!h&&""!==e&&null!==e||h&&t.symbolsExpanded)return"codeNav"}),y=(a||u)&&"codeNav"===m?void 0:m;s.useEffect(()=>{r.current=y},[y,r]);let g=(0,s.useCallback)((e,t)=>{p(r=>(r&&f.current&&f.current.focus(),f.current=t,a||u&&"codeNav"===e?void 0:e))},[a,u]);!function(e){let{screenSize:t}=(0,l.lm)(),r=(0,s.useRef)(t);(0,s.useEffect)(()=>{let o=r.current>=l.Gy.large,i=r.current===t;t<l.Gy.large&&(o||i)&&e(void 0),r.current=t},[t,e])}(g);let x=(0,s.useMemo)(()=>({openPanel:y,setOpenPanel:g}),[y,g]);return(0,o.jsx)(d.Provider,{value:x,children:e})}function h(){return(0,s.useContext)(d)}try{d.displayName||(d.displayName="OpenPanelContext")}catch{}try{u.displayName||(u.displayName="OpenPanelProvider")}catch{}},54751:(e,t,r)=>{r.d(t,{c9:()=>k,_$:()=>x,iU:()=>w,tV:()=>g});var o=r(74848),i=r(55847),n=r(34614),a=r(30729),l=r(38621),s=r(53949),c=r(70404),d=r(96540),u=r(67136),h=r(57572);let f=async(e,t,r)=>{try{return(await (0,h.DI)(e,{method:t,body:r})).ok}catch{return!1}},m=(e,t)=>f(e,"DELETE",y(t)),p=(e,t)=>f(e,"POST",y(t)),y=e=>{let t=new FormData;return t.append("feature",e),t};function g(e){let{alreadyRequested:t=!1,dismissed:r=!1,dismissedAt:o="",featureName:i="",requestPath:n=""}=e??{},[a,l]=(0,d.useState)(!1),[s,c]=(0,d.useState)(t),{addToast:h}=(0,u.Y6)(),f=async()=>{l(!0),await (s?m:p)(n,i)?c(!s):h({type:"error",message:"Something went wrong. Please try again later."}),l(!1)};return{inProgress:a,requested:s,dismissed:r,dismissedAt:o,toggleFeatureRequest:f}}function x({featureRequestInfo:e,learnMorePath:t,requestMessage:r,requestedMessage:i}){let{inProgress:n,requested:a,toggleFeatureRequest:l}=g(e);return e.showFeatureRequest?a?(0,o.jsx)(k,{inProgress:n,toggleFeatureRequest:l,requestedMessage:i}):(0,o.jsx)(w,{inProgress:n,toggleFeatureRequest:l,isEnterpriseRequest:e.isEnterpriseRequest,featureName:e.featureName,billingEntityId:e.billingEntityId,learnMorePath:t,requestMessage:r}):null}let w=({inProgress:e,toggleFeatureRequest:t,billingEntityId:r="",isEnterpriseRequest:i=!1,featureName:n,learnMorePath:a,requestMessage:l})=>{let{sendClickAnalyticsEvent:s}=(0,c.S)();return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(b,{onClick:()=>{t();let e=i&&r?`ref_cta:ask_enterprise_owners_for_access;ref_loc:${n};enterprise_id:${r};`:`ref_cta:ask_admin_for_access;ref_loc:${n};`;s({category:"member_feature_request",action:`action.${n}`,label:e})},inProgress:e,isEnterpriseRequest:i}),l&&(0,o.jsx)(R,{message:l}),a&&(0,o.jsx)(v,{onClick:()=>{s({category:"suggestion",action:"click_to_read_docs",label:`ref_cta:learn_more;ref_loc:${n};`})},path:a})]})},k=({inProgress:e,toggleFeatureRequest:t,requestedMessage:r})=>(0,o.jsxs)(o.Fragment,{children:[r&&(0,o.jsx)(C,{message:r}),(0,o.jsx)(S,{onClick:t,inProgress:e})]}),b=({onClick:e,inProgress:t,isEnterpriseRequest:r})=>(0,o.jsx)(i.Q,{onClick:e,variant:"primary",disabled:t,...(0,s.G)("feature-request-request-button"),children:t?"Requesting...":r?"Ask enterprise owners for access":"Ask admin for access"}),v=({onClick:e,path:t})=>(0,o.jsx)(n.A,{href:t,onClick:e,...(0,s.G)("feature-request-learn-more-link"),children:"Learn more"}),R=({message:e})=>(0,o.jsx)("span",{children:e}),C=({message:e})=>(0,o.jsxs)("span",{className:"d-inline-block color-fg-subtle mr-1",children:[(0,o.jsx)(a.A,{icon:l.CheckIcon}),e]}),S=({onClick:e,inProgress:t})=>(0,o.jsx)(n.A,{className:"color-fg-danger text-semibold",as:"button",onClick:e,disabled:t,...(0,s.G)("feature-request-cancel-link"),children:t?"Cancelling...":"Remove request"});try{x.displayName||(x.displayName="FeatureRequest")}catch{}try{w.displayName||(w.displayName="RequestFeature")}catch{}try{k.displayName||(k.displayName="CancelFeatureRequest")}catch{}try{b.displayName||(b.displayName="RequestCTA")}catch{}try{v.displayName||(v.displayName="LearnMore")}catch{}try{R.displayName||(R.displayName="RequestMessage")}catch{}try{C.displayName||(C.displayName="RequestedMessage")}catch{}try{S.displayName||(S.displayName="RemoveRequestCTA")}catch{}},76736:(e,t,r)=>{r.d(t,{T2:()=>c,cp:()=>m,ud:()=>y});var o=r(74848),i=r(21728),n=r(80688),a=r(96540);let l=(0,n.A)("localStorage"),s="codeView.codeFolding",c="codeView.codeWrapping",d="codeView.centerView",u="codeView.openSymbolsOnClick",h=new Map([[s,"Show code folding buttons"],[c,"Wrap lines"],[d,"Center content"],[u,"Open symbols on click"]]),f=(0,a.createContext)({codeFoldingOption:{},codeWrappingOption:{},codeCenterOption:{},openSymbolsOption:{}}),m=e=>{let t,r,n;let a=(0,i.c)(8),{children:l}=e,h=p(s,!0),m=p(c,!1),y=p(d,!1),g=p(u,!0);return a[0]!==y||a[1]!==h||a[2]!==m||a[3]!==g?(r={codeFoldingOption:h,codeWrappingOption:m,codeCenterOption:y,openSymbolsOption:g},a[0]=y,a[1]=h,a[2]=m,a[3]=g,a[4]=r):r=a[4],t=r,a[5]!==l||a[6]!==t?(n=(0,o.jsx)(f.Provider,{value:t,children:l}),a[5]=l,a[6]=t,a[7]=n):n=a[7],n};function p(e,t){let r,o,n,s;let c=(0,i.c)(11);c[0]!==e?(r=l.getItem(e),c[0]=e,c[1]=r):r=c[1];let d=r;c[2]!==t||c[3]!==d?(o=()=>d?"true"===d:t,c[2]=t,c[3]=d,c[4]=o):o=c[4];let[u,f]=(0,a.useState)(o);c[5]!==e?(n=h.get(e)||"",c[5]=e,c[6]=n):n=c[6];let m=n;return c[7]!==u||c[8]!==m||c[9]!==e?(s={name:e,enabled:u,setEnabled:f,label:m},c[7]=u,c[8]=m,c[9]=e,c[10]=s):s=c[10],s}function y(){return(0,a.useContext)(f)}try{f.displayName||(f.displayName="CodeViewOptionsContext")}catch{}try{m.displayName||(m.displayName="CodeViewOptionsProvider")}catch{}}}]);
//# sourceMappingURL=ui_packages_code-view-shared_hooks_use-canonical-object_ts-ui_packages_code-view-shared_utili-04c5c0-f0d1d79d3f12.js.map